# Installing NvChad Version 2.5
## Backup and remove old nvim config.
Backup old nvim config.
```
mv ~/.config/nvim ~/.config/nvim-old
```
Or remove old nvim config.
```
rm -rf ~/.config/nvim
```
Remove local/state and local/share
```
rm -rf ~/.local/state/nvim
rm -rf ~/.local/share/nvim
```
## Install NvChad.
Install required packages.
```
sudo pacman -S --needed neovim unzip luarocks xclip wl-clipboard
```
Install NvChad config from https://nvchad.com/docs/quickstart/install
```
git clone https://github.com/NvChad/starter ~/.config/nvim && nvim
```
Or this already configured version
```
git clone https://github.com/ssolovey/NvChad-2.5 ~/.config/nvim && nvim
```

В случае необходимости нужно будет установить ряд библиотек go, например


```Shell
go install github.com/go-delve/delve/cmd/dlv@latest
```
Список будет (возможно) обновлён

---

`<leader>` в данной конфигурации - `" "` (`space`)


`<leader>+x` - закрыть Mason (`:Mason` - открыть снова)
`Ctrl+n` - открыть файловый менеджер (перейди в директорию с проектом сперва)

## Дебаггинг
- `<F5>`: Запуск или продолжение выполнения кода
- `<F10>`: Шаг с обходом (Step Over)
- `<F11>`: Шаг с заходом в функцию (Step Into)
- `<F12>`: Шаг с выходом из функции (Step Out)
- `<leader>db`: Установить или снять точку останова
- `<leader>dB`: Установить точку останова с условием
- `<leader>dr`: Перезапустить сессию отладки
- `<leader>dq`: Остановить сессию отладки
- `<leader>dui`: Показать или скрыть панель DAP UI
- `<leader>de`: Оценить выражение под курсором
- `<leader>dR`: Открыть REPL для выполнения команд в контексте отладки
- `<leader>dl`: Установить лог-точку с сообщением
- `<leader>dh`: Показать всплывающее окно с информацией о переменной (плавающее окно)
- `<leader>ds`: Показать информацию о текущих переменных (Scopes) в плавающем окне
- `<leader>dgt`: Запустить отладку ближайшего теста
- `<leader>dgl`: Запустить отладку последнего теста

## Работа с git

#### vim-fugitive
команды для взаимодействия с Git.

*<leader> - space

- `<leader>gs` — открыть `git status` (`:G`).
- `<leader>gd` — открыть дифф текущего файла (`:Gdiffsplit`).
- `<leader>gc` — открыть окно коммита (`:G commit`).
- `<leader>gp` — выполнить push изменений (`:G push`).
- `<leader>gl` — выполнить pull изменений (`:G pull`).

#### gitsigns.nvim
отображение изменений в файлах (hunks) в виде иконок в боковой панели и выполнения операций с этими изменениями.

- `[c` — перейти к предыдущему изменению (hunk).
- `]c` — перейти к следующему изменению (hunk).
- `<leader>hp` — предпросмотр изменений в текущем hunk.
- `<leader>hs` — стадировать текущий hunk.
- `<leader>hr` — сбросить изменения в текущем hunk.
- `<leader>hu` — отменить стадирование текущего hunk.

#### diffview.nvim
просмотр диффов между ветками или коммитами с интерфейсом в стиле GUI.

- `<leader>dv` — открыть интерфейс `diffview` для просмотра изменений (`:DiffviewOpen`).
- `<leader>dc` — закрыть интерфейс `diffview` (`:DiffviewClose`). 

## Работа с окнами (сплитами)

#### Кратко:
Жми `Ctrl+w` и следи за нижним меню

#### Подробно:
1. Создание горизонтального и вертикального окна (сплита):
    - Горизонтальный сплит: `:split` или сокращённо `:sp`
        - Команда: `:sp [имя_файла]`
        - Горячая клавиша: `<C-w>s` (Control + w, затем `s`)
          Открывает новое окно сверху/снизу текущего.

    - Вертикальный сплит: `:vsplit` или сокращённо `:vsp`
        - Команда: `:vsp [имя_файла]`
        - Горячая клавиша: `<C-w>v` (Control + w, затем `v`)
          Открывает новое окно слева/справа от текущего.

2. Переход между окнами:
    - Основная команда для перехода между окнами: `<C-w>` (Control + w)
        - Влево: `<C-w>h`
        - Вниз: `<C-w>j`
        - Вверх: `<C-w>k`
        - Вправо: `<C-w>l`
        - Можно просто зажать `<C-w>` и нажимать `h`, `j`, `k`, `l` для перемещения.
    - Переключение по циклу между окнами: `<C-w>w` (Control + w, затем `w`)

Да, оно действительно работает но нужно приноровиться

3. Изменение размеров окон:

Кстати, в меню не будет этих команд, они могут показаться удобными.

```
:resize +10  -- увеличить высоту на 10 строк
:resize -10  -- уменьшить высоту на 10 строк
:vertical resize +10  -- увеличить ширину на 10 колонок
:vertical resize -10  -- уменьшить ширину на 10 колонок
```
Это можно встрерить в меню:
- Увеличить размер окна по вертикали: `<C-w>+`
- Уменьшить размер окна по вертикали: `<C-w>-`
- Увеличить размер окна по горизонтали: `<C-w>>`
- Уменьшить размер окна по горизонтали: `<C-w><`
- Установить одинаковые размеры для всех окон: `:wincmd =` или просто `:resize equal`

4. Закрытие окна:
    - Закрыть текущее окно: `:q` или `<C-w>c` или `:close`
    - Закрыть все окна, кроме текущего: `:only` или `<C-w>o`
    - Закрыть все окна: `:qa` (если требуется завершить работу со всеми окнами).

5. Полезные команды и трюки с окнами:
    - Открытие файла в новом горизонтальном сплите: `:sp filename`
    - Открытие файла в новом вертикальном сплите: `:vsp filename`
    - Перемещение окна (например, сделать текущий вертикальный сплит горизонтальным):
        - Переместить вниз: `<C-w>J`
        - Переместить вправо: `<C-w>L`
        - Переместить вверх: `<C-w>K`
        - Переместить влево: `<C-w>H`
    - Изменение высоты сплита: `:resize +N` или `:resize -N` (увеличить или уменьшить на `N` строк).
    - Изменение ширины сплита: `:vertical resize +N` или `:vertical resize -N` (увеличить или уменьшить на `N` колонок).
    - Максимизировать текущее окно: `:resize` (высота) или `:vertical resize` (ширина) без аргументов сделает окно максимально возможного размера.

## Навигация по коду

#### Кратко

- Переход к определению: `gd`
- Назад по истории: `<C-o>`
- Найти все ссылки: `gr`
- Документация: `K`

#### Подробнее

1. Переход к определению функции:
    - С мышью: `Ctrl+LeftMouse` по функции.
    - Без мыши: `gd`
      В normal mode (здесь и далее всегда в нормальном режиме в аналогичных случаях) навестись на имя функции и нажать `gd`

2. Возврат к предыдущему месту:
   `<C-o>` (Control + o)
   После перехода к определению функции,  `<C-o>`, чтобы вернуться обратно.

    - Вперёд по истории переходов: `<C-i>` (Control + i).

3. Найти все использования функции или метода:
   `gr`
   Каретку на имя функции и  `gr`

4. Показать документацию по символу:
   `K` - большая K, то есть с шифтом

5. Настройка своих сочетаний клавиш (при желании):
    - Добавить в `mappings.lua`:
      ```lua
      local map = vim.keymap.set
      map("n", "<C-A-Left>", "<C-o>", { desc = "Назад в истории переходов" })
      map("n", "<C-A-Right>", "<C-i>", { desc = "Вперёд в истории переходов" })
      ```
    - Назад: `<C-A-Left>` — аналогично GoLand.
    - Вперёд: `<C-A-Right>` — аналогично GoLand.

8. Справка по LSP и навигации:
   `:help lsp` - ничего не понятно, но очень интересно
   `:help jump-motions` - справочная информация, где можно узнать например, что команда `:ju` выведет историю переходов ("прыжков") по коду и проч. тому подобное.

## Поиск по файлам

#### Telescope

- `<leader>ff` — открыть поиск файлов через Telescope
- `<leader>fg` — выполнить поиск текста по содержимому файлов с помощью Telescope
- `<leader>fb` — переключиться между открытыми буферами через Telescope
- `<leader>fh` — найти справку по тегам через Telescope

либо

- `:Telescope find_files` — поиск файлов по имени.
- `:Telescope live_grep` — поиск текста по содержимому файлов в текущем проекте.
- `:Telescope buffers` — переключение между открытыми буферами.
- `:Telescope help_tags` — поиск по документации Neovim.


#### fzf

- `:Files` — выполнить поиск файлов через fzf
- `:Rg <pattern>` — найти текст по содержимому файлов с использованием fzf
- `:Buffers` — переключаться между буферами с помощью fzf

## Линтинг

`:Lint` - запустить линтер
`:Trouble` - вывести список замечаний в quickfix списке (выбрать 1)
`]` - вперёд по списку
`[` - назад по списку
